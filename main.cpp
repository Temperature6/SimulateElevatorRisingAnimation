#include <iostream>
#include <ctime>
#include "BetterPrint.h"
using namespace std;

void PRINTUP(int x, int y)
{
	int UP[4][14] = {
		{0,0,0,0,0,0,1,1,0,0,0,0,0,0},
		{0,0,0,0,1,1,0,0,1,1,0,0,0,0},
		{0,0,1,1,0,0,0,0,0,0,1,1,0,0},
		{1,1,0,0,0,0,0,0,0,0,0,0,1,1},
	};

	for (int i = 0; i < 4; i++)
	{
		for (int j = 0; j < 14; j++)
		{
			if (UP[i][j] == 1)
			{
				MoveCursor(j + x, i + y);
				printf("#");
			}
		}
	}
}

void PRINTNUM(int x, int y, int num)
{
	int NUM1[7][8] = {
		{0,0,0,1,1,0,0,0},
		{0,1,1,1,1,0,0,0},
		{0,0,0,1,1,0,0,0},
		{0,0,0,1,1,0,0,0},
		{0,0,0,1,1,0,0,0},
		{0,0,0,1,1,0,0,0},
		{0,1,1,1,1,1,1,0}
	};
	int NUM2[7][8] = {
		{1,1,1,1,1,1,1,1},
		{0,0,0,0,0,0,0,1},
		{0,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,0},
		{1,0,0,0,0,0,0,0},
		{1,1,1,1,1,1,1,1}
	};
	int NUM3[7][8] = {
		{1,1,1,1,1,1,1,1},
		{0,0,0,0,0,0,0,1},
		{0,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1},
		{0,0,0,0,0,0,0,1},
		{0,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1}
	};
	int NUM4[7][8] = {
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1},
		{0,0,0,0,0,0,0,1},
		{0,0,0,0,0,0,0,1},
		{0,0,0,0,0,0,0,1}
	};
	int NUM5[7][8] = {
		{1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,0},
		{1,0,0,0,0,0,0,0},
		{1,1,1,1,1,1,1,1},
		{0,0,0,0,0,0,0,1},
		{0,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1}
	};
	int NUM6[7][8] = {
		{1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,0},
		{1,0,0,0,0,0,0,0},
		{1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1}
	};
	int NUM7[7][8] = {
		{1,1,1,1,1,1,1,1},
		{0,0,0,0,0,0,1,1},
		{0,0,0,0,0,1,1,0},
		{0,0,0,1,1,0,0,0},
		{0,0,0,1,1,0,0,0},
		{0,0,0,1,1,0,0,0},
		{0,0,0,1,1,0,0,0}
	};
	int NUM8[7][8] = {
		{1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1}
	};
	int NUM9[7][8] = {
		{1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,1},
		{1,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1},
		{0,0,0,0,0,0,0,1},
		{0,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1}
	};

	int* NUM_P[] = {
		NUM1[0],
		NUM2[0],
		NUM3[0],
		NUM4[0],
		NUM5[0],
		NUM6[0],
		NUM7[0],
		NUM8[0],
		NUM9[0],
	};

	for (int i = 0; i < 7; i++)
	{
		for (int j = 0; j < 8; j++)
		{
			if (*(NUM_P[num - 1] + i * 8 + j) == 1)
			{
				MoveCursor(x + j, y + i);
				printf("#");
			}
		}
	}
};

void FILL(int x1, int y1, int x2, int y2, char ch)
{
	for (int i = y1; i < y2; i++)
	{
		for (int j = x1; j < x2; j++)
		{
			MoveCursor(j, i);
			printf("%c", ch);
		}
	}
}

int main()
{
FLAG:
	srand((unsigned int)time(NULL));
	int num = rand() % 15 + 1;
	SetFontColor(num);
	int floor = 9;
	while (floor > 0)
	{
		PRINTNUM(40, 2, floor);
		for (int i = 10; i >= 0; i--)
		{
			FILL(10, 0, 24, 14, ' ');
			PRINTUP(10, i);
			Sleep(100);
		}
		FILL(40, 2, 48, 9, ' ');
		floor--;
	}
	printf("\n\n");
	system("pause");
	system("cls");
	goto FLAG;
}